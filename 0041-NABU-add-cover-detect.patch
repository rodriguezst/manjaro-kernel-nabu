From 2d487c4074b3980228c167a96e4c86c9cd408dda Mon Sep 17 00:00:00 2001
From: maverick <maverick_jia@sina.com>
Date: Fri, 2 Feb 2024 13:04:39 +0800
Subject: [PATCH 41/44] NABU: add cover detect

---
 .../boot/dts/qcom/sm8150-xiaomi-nabu-maverick.dts  | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

diff --git a/arch/arm64/boot/dts/qcom/sm8150-xiaomi-nabu-maverick.dts b/arch/arm64/boot/dts/qcom/sm8150-xiaomi-nabu-maverick.dts
index b7c26cd75..4a959304d 100644
--- a/arch/arm64/boot/dts/qcom/sm8150-xiaomi-nabu-maverick.dts
+++ b/arch/arm64/boot/dts/qcom/sm8150-xiaomi-nabu-maverick.dts
@@ -199,6 +199,20 @@ key-vol-up {
 			wakeup-source;
 		};
 	};
+
+	gpio-hall-sensor {
+		compatible = "gpio-keys";
+		label = "Hall sensors";
+
+		event-hall-sensor0 {
+			label = "Cover Hall Sensor 0";
+			gpios = <&tlmm 9 GPIO_ACTIVE_LOW>;
+			linux,input-type = <EV_SW>;
+			linux,code = <SW_LID>;
+			gpio-key,wakeup;
+			debounce-interval = <15>;
+		};
+	};
 };
 
 &pm8150_gpios {
-- 
2.47.0

